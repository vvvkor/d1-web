/*! d1-web v1.2.58 */!function(t){var e={};function i(n){if(e[n])return e[n].exports;var o=e[n]={i:n,l:!1,exports:{}};return t[n].call(o.exports,o,o.exports,i),o.l=!0,o.exports}i.m=t,i.c=e,i.d=function(t,e,n){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)i.d(n,o,function(e){return t[e]}.bind(null,o));return n},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="",i(i.s=25)}({0:function(t,e){
/*! app - core of d1-web */
t.exports=new function(){this.sequence=0,this.plugins={},this.handlers={},this.opt={debug:0,aCaption:"data-caption",cAct:"act",cHide:"hide",cToggle:"toggle",cOff:"off",cClose:"close",cJs:"js",hClose:"#cancel",hOk:"#ok",sCancel:"Cancel",sOk:"OK"},this.init=function(t){var e=this;document.body.classList.add(this.opt.cJs),this.fire("beforeopt"),t||(t=this.attr(document.body,"data-d1"))&&(t=JSON.parse(t)),this.setOpt(this,t),this.dbg(["opt",this.opt]),this.initPlugins(t),this.b([window],"hashchange",(function(t){return e.on("hash",t)})),this.b([document],"keydown",(function(t){return e.on("key",t)})),this.b([document],"click",(function(t){return e.on("click",t)})),this.b([document],"input",(function(t){return e.on("input",t)})),location.hash&&this.on("hash"),this.fire("after"),this.fire("ready")},this.on=function(t,e){this.fire("before",e),this.fire(t,e),this.fire(t+"ed",e),this.fire("after",e)},this.setOpt=function(t,e){var i;if(e)for(i in e)"plug"!=i&&(t.opt[i]=e[i])},this.plug=function(t){this.plugins[t.name]=t},this.initPlugins=function(t){var e=this;this.opt.disable&&this.opt.disable.forEach((function(t){return delete e.plugins[t]})),this.dbg(["plugins",this.plugins]),Object.keys(this.plugins).forEach((function(i){return t&&t.plug&&t.plug[i]?e.setOpt(e.plugins[i],t.plug[i]):null})),this.fire("beforeinit"),Object.keys(this.plugins).forEach((function(t){return e.plugins[t].init()})),this.fire("afterinit")},this.listen=function(t,e){this.handlers[t]||(this.handlers[t]=[]),this.handlers[t].push(e)},this.fire=function(t,e){var i=this;this.dbg(["fire "+t,e]),this.handlers[t]&&this.handlers[t].forEach((function(t){return t.call(i,e)}))},this.dbg=function(t,e,i){(this.opt.debug>=(e||1)||-1!=location.href.indexOf("d1debug"))&&console[i?"error":"log"](t)},this.seq=function(){return++this.sequence},this.a=function(t){return t?Array.prototype.slice.call(t):t},this.q=function(t,e){try{return(e||document).querySelector(t)}catch(t){return null}},this.qq=function(t,e){try{var i=(e||document).querySelectorAll(t);return this.a(i)}catch(t){return[]}},this.b=function(t,e,i){var n=this;(t="string"==typeof t?this.qq(t):t.tagName?[t]:this.a(t))&&i&&t.forEach((function(t){return e?t.addEventListener(e,(function(t){return i(t)}),!1):i.call(n,t)}))},this.e=function(t,e){return this.b(t,"",e)},this.attr=function(t,e,i){return t&&t.hasAttribute(e)?t.getAttribute(e):void 0!==i?i:null},this.ins=function(t,e,i,n,o){var s=document.createElement(t||"span");if(e&&e.nodeType?s.appendChild(e):e&&(s.innerHTML=e),i)for(var r in i)r.match(/-/)?s.setAttribute(r.replace(/^-/,""),i[r]):s[r]=i[r];return n?o?n.parentNode.insertBefore(s,o<0?n:n.nextSibling):!1===o?n.insertBefore(s,n.firstChild):n.appendChild(s):s},this.clr=function(t){if(t)for(;t.firstChild;)t.removeChild(t.firstChild)},this.x=function(t,e,i){return this.ins("a",this.i("close","&#x2715;"),{href:this.opt.hClose,className:i||""},t,e)},this.i=function(t,e){return this.plugins.icons?this.plugins.icons.i(t,e):this.ins("span",e||t)},this.vis=function(t){return!t.classList.contains(this.opt.cOff)},this.throttle=function(t,e){var i,n,o=!1;return function s(){o?(i=this,n=arguments):(t.apply(this,arguments),o=!0,setTimeout((function(){o=!1,n&&(s.apply(i,n),n=i=null)}),e))}},this.delay=function(t,e,i){var n=null;return function(){var o=arguments,s=this;i&&n&&clearTimeout(n),n=setTimeout((function(){t.apply(s,o),n=null}),e)}},this.get=function(t,e){if(!t||"A"!=t.tagName)return null;var i,n={},o=t.search?t.search.replace(/^\?/,"").split("&"):[];for(i=0;i<o.length;i++){var s=o[i].split("=");n[s[0]]=decodeURIComponent(s[1]).replace(/\+/," ")}return e?n[e]:n},this.makeUrl=function(t,e){t.tagName||(t=this.ins("a","",{href:t})),console.log("make ",t.href);var i=this.get(t);Object.keys(e).forEach((function(t){return i[encodeURIComponent(t)]=encodeURIComponent(e[t])}));var n=Object.keys(i).map((function(t){return t+"="+i[t]})).join("&");return t.host?t.protocol+"//"+t.host+t.pathname+(n?"?"+n:"")+t.hash:t.href.replace(/[\?#].*$/,"")+(n?"?"+n:"")+t.hash}}},1:function(t,e,i){
/*! toggle - togglable interactive components */
var n=i(0);t.exports=new function(){"use strict";this.name="toggle",this.shown=null,this.nEsc=0,this.opt={keepHash:!0,mediaSuffixes:["-mobile","-desktop"],dlgUnscroll:!0,qTrg:"[id].target",qPop:".pop>div[id]",qNav:".nav ul",qDlg:".dlg",qTab:".tabs+div>div[id]",qTre:"ul.tree ul",qDrw:".drawer[id]",qAccRoot:"ul.tree.accordion",qAcc:"ul.tree.accordion ul",qGal:".gal>a[id]",qSubMem:".tabs.mem+div>div[id], ul.mem:not(.nav) ul",qDrawer:".drawer[id]:not(.shift)",qTip:'[data-tip=""][title], .tip[title]',cMem:"mem",cFade:"fade",cTarget:"target"},this.init=function(){var t=this;n.listen("esc",(function(e){return t.esc(e)})),n.listen("hash",(function(e){return t.onHash(e)})),n.listen("key",(function(e){return t.onKey(e)})),n.listen("click",(function(e){return t.onClick(e)})),n.listen("clicked",(function(e){return t.unpop(e.target)})),n.listen("after",(function(e){return t.after(e?e.target:null)}));var e=this.opt;this.opt.qTgl=this.opt.mediaSuffixes.concat([""]).map((function(t){return"[id]."+n.opt.cToggle+t})).join(", ");var i=[e.qTrg,e.qPop,e.qNav,e.qDlg,e.qTab,e.qTre,e.qDrw].join(", ");this.opt.qUnpop=[e.qPop,e.qNav,e.qDlg,e.qDrw].join(", "),this.opt.qUnpopOn=[e.qPop,e.qNav,e.qDlg,e.qDrw].map((function(t){return t+":not(."+n.opt.cOff+")"})).join(", "),n.e(this.opt.qNav+", "+this.opt.qTre,(function(e){return t.attachSubNav(e)})),n.e(i,(function(e){return t.initToggler(e)})),this.opt.mediaSuffixes.forEach((function(e){return n.e(t.opt.qTrg+e,(function(i){return t.initToggler(i,e)}))})),n.e(this.opt.qGal+":last-child",(function(t){return n.x(t,1)})),n.e(this.opt.qSubMem,(function(e){return e.classList.add(t.opt.cMem)})),n.e("[id]",(function(e){return t.restoreVisibility(e)})),n.e(this.opt.qTab+":not(."+n.opt.cOff+") ~ [id]:not(."+n.opt.cOff+")",(function(e){return t.tgl(e,0)})),n.e(this.opt.qTab+":first-child",(function(e){return n.a(e.parentNode.children).filter((function(t){return n.vis(t)})).length?null:t.tgl(n.q(n.q('a[href^="#"]',e.parentNode.previousElementSibling).hash),1)})),n.e("."+n.opt.cToggle+"[id]",(function(e){return t.hiliteLinks(e)})),n.e(this.opt.qTip,(function(t){t.setAttribute("data-tip",t.title.replace(/\s\s+/g,"\n")),t.title=""}))},this.after=function(t){this.shown=null;var e=n.q(this.opt.qDlg+":not(."+n.opt.cOff+"), "+this.opt.qGal+'[id="'+location.hash.substr(1)+'"]'),i=window.innerWidth-document.documentElement.clientWidth,o=document.body.style;if(document.body.classList[e?"add":"remove"](this.opt.cFade),this.opt.dlgUnscroll&&(o.overflow=e?"hidden":"",e&&o.paddingRight||(o.paddingRight=e?i+"px":"")),n.dbg(["after",t,e,o.paddingRight]),e){var s=n.q('input:not([type="hidden"]), select, textarea, a.btn, a:not([href="'+n.opt.hClose+'"])',e),r=n.q(":focus",e);!s||r||t&&t.nodeType&&e.contains(t)||(n.dbg(["focus",t,e,s,r]),s.focus(),"text"==s.type&&s.select())}},this.esc=function(t){t&&t.preventDefault(),this.unpop(null,!0),this.unhash(),this.after()},this.onHash=function(t){if(n.dbg(["hash",location.hash]),this.nEsc=0,location.hash===n.opt.hClose)n.fire("esc",t);else if(location.hash){var e=n.q(location.hash);if(e){var i=e.matches(this.opt.qTgl),o=e.matches(this.opt.qGal);i&&(this.unpop(),this.toggle(e,!0),this.opt.keepHash||this.unhash()),i||o?this.after():this.unpop()}}},this.onKey=function(t){var e=t.keyCode;n.dbg(["key",e,this.nEsc]),27==e&&this.nEsc>=2?localStorage.clear():27==e&&n.fire("esc",t),this.nEsc=27==e&&this.nEsc<2?this.nEsc+1:0},this.onClick=function(t){this.nEsc=0;var e=t.target.closest("a"),i=e&&e.matches('a[href^="#"]')?n.q(e.hash):null;if(e&&e.hash===n.opt.hClose)n.fire("esc",t);else{if(i&&i.matches(this.opt.qTgl))return t.preventDefault(),i=this.toggle(i),n.vis(i)&&this.opt.keepHash?this.addHistory(e.hash):this.unhash(),i;e||this.unhash()}t.clientX<=5&&t.clientY>5&&this.opt.qDrawer&&this.toggle(this.opt.qDrawer)},this.initToggler=function(t,e){t.classList.remove(this.opt.cTarget+(e||"")),t.classList.add(n.opt.cToggle+(e||"")),this.tgl(t,0)},this.attachSubNav=function(t){var e=n.a(t.parentNode.children).filter((function(t){return"A"==t.tagName})),i=e.filter((function(t){return!t.href}))[0]||e[0]||n.ins(""," ",{},t.parentNode,!1)&&n.ins("a",n.i("toggle","[+]"),{},t.parentNode,!1);i&&(t.id||(t.id="ul-"+n.seq()),i.href="#"+t.id)},this.toggle=function(t,e,i){var o=t?t.tagName?t:n.q(t):null;return o&&(o.matches(this.opt.qTab)&&void 0===e&&(e=!0),n.fire("beforetoggle",{n:o,on:e,deep:i}),this.tgl(o,e),n.dbg(["toggle"+(i?" deep":""),e,o],i?2:1),n.vis(o)&&(this.fixPosition(o),i||(this.shown=o)),-1!=i&&(i||this.toggleDependent(o),this.hiliteLinks(o),this.storeVisibility(o)),n.fire("aftertoggle",{n:o,on:e,deep:i})),o},this.tgl=function(t,e){t&&t.classList[e?"remove":void 0===e?"toggle":"add"](n.opt.cOff)},this.toggleDependent=function(t){var e=this;n.vis(t)&&(t.matches(this.opt.qDlg)?n.e(this.opt.qDlg,(function(i){return i==t?null:e.toggle(i,!1,1)})):t.matches(this.opt.qTab)?n.e(t.parentNode.children,(function(i){return i==t?null:e.toggle(i,!1,1)})):t.matches(this.opt.qAcc)&&n.e(n.qq(this.opt.qAcc,t.closest(this.opt.qAccRoot)),(function(i){return i.contains(t)?null:e.toggle(i,!1,1)})))},this.unpop=function(t,e){var i=this,o=[t];o.push(this.shown);var s=t?t.closest("a"):null;s&&s.hash&&o.push(n.q(s.hash)),n.dbg(["unpop",o]);var r=n.qq(this.opt.qUnpop).filter((function(t){return!(o&&o.filter((function(e){return e&&e.tagName&&t.contains(e)})).length)}));e&&(r=r.filter((function(t){return!n.q(i.opt.qUnpopOn,t)}))),n.e(r,(function(t){return i.toggle(t,!1,1)}))},this.unhash=function(){location.hash&&(location.hash=n.opt.hClose),this.addHistory(location.pathname+location.search)},this.addHistory=function(t){history.pushState({},"",t)},this.storeVisibility=function(t){t&&t.id&&t.classList.contains(this.opt.cMem)&&localStorage.setItem("vis#"+t.id,n.vis(t)?1:-1)},this.restoreVisibility=function(t){if(t&&t.id&&t.classList&&t.classList.contains(this.opt.cMem)){var e=localStorage.getItem("vis#"+t.id);e&&this.toggle(t,e>0,-1)}},this.hiliteLinks=function(t){var e=n.vis(t)?"add":"remove";n.e('a[href="#'+t.id+'"]',(function(t){return t.classList[e](n.opt.cAct)}))},this.fixPosition=function(t){var e=t.matches(this.opt.qNav),i=e?window.getComputedStyle(t.parentNode.parentNode):null,n=!!i&&"flex"!=i.display;if(t.matches(this.opt.qPop)||e){var o=t.style,s=t.parentNode,r=s.nextElementSibling,a=(r=r&&"INPUT"==r.tagName?r:null)||t.parentNode;if(a){o.right="auto",o.left=n?"100%":0,o.top=n?0:"100%";var l=t.getBoundingClientRect(),h=a.getBoundingClientRect(),c=l.right>window.innerWidth,u=l.bottom>window.innerHeight,p=h.width>300;n?o.left=c||p?"3em":"100%":c&&l.width>h.width&&h.right>l.width?o.left=h.width-l.width+"px":o.left=0,n?o.top=c||p?"90%":0:u&&h.top>l.height?o.top=(r?-h.height:0)-l.height+"px":o.top="100%",r&&(s.style.verticalAlign="bottom")}}}}},2:function(t,e){Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector),Element.prototype.closest||(Element.prototype.closest=function(t){var e=this;do{if(e.matches(t))return e;e=e.parentElement||e.parentNode}while(null!==e&&1===e.nodeType);return null})},25:function(t,e,i){i(2);var n=i(0);n.plug(i(1)),n.plug(i(3)),n.plug(i(5)),n.b([document],"DOMContentLoaded",(function(t){return n.init()})),t.exports=n,window&&(window.d1=n)},3:function(t,e,i){
/*! dialog - replacement of standard Javascript dialogs: alert, confirm, prompt */
var n=i(0),o=i(1);t.exports=new function(){"use strict";this.name="dialog",this.dlg=null,this.opt={ccDlg:"dlg rad",customDialog:1,aConfirm:"_confirm",aHead:"data-head",aPic:"data-pic",aPrompt:"data-prompt",cBtn:"btn pad",qAlert:"a.alert",qDialog:"a.dialog, input.dialog"},this.init=function(){var t=this;this.opt.ccDlg=n.opt.cToggle+" "+n.opt.cOff+" "+this.opt.ccDlg,this.dlg||(this.dlg=n.ins("div","",{className:this.opt.ccDlg},document.body)),n.listen("click",(function(e){return t.onClick(e)}))},this.onClick=function(t){var e=t.target.closest("a, input, button");if(e&&e.matches(this.opt.qAlert+","+this.opt.qDialog))return t.preventDefault(),this.openByNode(e)},this.open=function(t,e,i,s){var r=this;s=s||{};var a=this.dlg;a.className=this.opt.ccDlg+(s.class?" "+s.class:""),n.clr(a);var l=n.ins("div","",{className:"row bg"},a),h=n.ins("h3"," "+(t||""),{className:"fit pad"},l);if(s.icon){var c=s.icon.match(/(\S+)(\s(.*))?/);c&&h.insertBefore(n.ins("span",n.i(c[1]),{className:c[3]||""}),h.firstChild)}n.x(l,0,"pad hover col-0");var u=n.ins("div","",{className:"pad"},a);e&&n.ins("div",e,{},u);var p={value:!0};(s.def||""===s.def)&&(p=n.ins("input","",{value:s.def},u));var f=n.ins("p","",{className:"r"},u),d=this.opt.cBtn+" "+(s.btn||(" "==e.substr(0,1)?"bg-e":"")),g=this.opt.cBtn+" bg-n",m=n.ins("a",s.ok||n.opt.sOk,{href:n.opt.hClose,className:s.rev?g:d},f);i&&(n.ins("a",s.cancel||n.opt.sCancel,{href:n.opt.hClose,className:s.rev?d:g},m,s.rev?-1:1),n.ins(""," ",{},m,s.rev?-1:1),m.href=n.opt.hOk,n.b([m],"click",(function(t){t.preventDefault(),r.callback(i,p.value,t)})),p.tagName&&n.b([p],"keyup",(function(t){return 13==t.keyCode?r.callback(i,p.value,t):null}))),o.toggle(this.dlg,!0)},this.callback=function(t,e,i){t.call(this,e,i)||o.unpop()},this.openByNode=function(t,e){var i=this;if(!t.form||t.form.checkValidity()){var o=n.attr(t,this.opt.aHead,"").replace(/%([\w\-]+)%/g,(function(e,i){return t.getAttribute(i)})),s=n.attr(t,this.opt.aPic,""),r=n.attr(t,this.opt.aPrompt,""),a=n.attr(t,n.opt.aCaption,t.title||r||"!").replace(/%([\w\-]+)%/g,(function(e,i){return t.getAttribute(i)})),l=n.attr(t,"data-reverse"),h=n.attr(t,"data-src"),c=n.attr(t,"data-go");!(h=h?n.q(h):null)&&t.form&&(h=t.form.elements[r]);var u=null,p=t.matches(this.opt.qAlert),f=r?h?h.value:n.get(t,r):null;return f&&null!==c?this.onAnswer(t,f,r):this.opt.customDialog?this.open(o,a,p?null:function(e){return i.onAnswer(t,e,r)},{ok:n.attr(t,"data-ok",""),cancel:n.attr(t,"data-cancel",""),icon:s,btn:" "==a.substr(0,1)||t&&t.className.match(/-[we]\b/)?"bg-e":"bg-y",def:f,rev:l}):(u=p?alert(a):r?prompt(a,f):confirm(a),this.onAnswer(t,u,r)),this.dlg}t.form.reportValidity&&t.form.reportValidity()},this.onAnswer=function(t,e,i,s){if(e||""===e){if(t&&t.form){if(!0!==e){var r=t.form.elements[i]||n.ins("input","",{type:"hidden",name:i},t.form);r&&(r.value=e)}(t.form.reportValidity?t.form.reportValidity():t.form.checkValidity())?(n.q('[type="hidden"][name="'+t.name+'"]',t.form)||n.ins("input","",{type:"hidden",name:t.name,value:t.value},t.form),t.form.elements[this.opt.aConfirm]||n.ins("input","",{type:"hidden",name:this.opt.aConfirm,value:1},t.form),t.form.submit()):o.unpop()}else if(t&&t.href){var a,l="#"==n.attr(t,"href","").substr(0,1),h="_blank"==t.target;if((l||h)&&o.unpop(),l)a=t.hash;else{var c={};c[this.opt.aConfirm]=1,!0!==e&&(c[i]=e),a=n.makeUrl(t,c)}"_blank"==t.target?window.open(a,t.target):location.href=a}}else;}}},5:function(t,e,i){
/*! gallery - image gallery */
var n=i(0);t.exports=new function(){"use strict";this.name="gallery",this.opt={idPrefix:"pic-",num:!0,cGal:"gal",qGal:".gal>a[id]",qGallery:".gallery",qLinks:"a.pic"},this.init=function(){var t=this;n.listen("hash",(function(e){return t.onHash(e)})),n.listen("key",(function(e){return t.onKey(e)})),n.listen("click",(function(e){return t.onClick(e)})),n.e(this.opt.qGallery,(function(e){return t.prepare(e)}))},this.onClick=function(t){var e=t.target;e.matches(this.opt.qGal)&&t.clientX>0&&t.clientX<e.clientWidth/3&&this.prevImg(e)&&t.preventDefault()},this.prevImg=function(t){var e=t.previousElementSibling||n.qq("a[id]",t.parentNode).pop();return e.id&&(location.hash="#"+e.id),e.id},this.onHash=function(){var t=n.q(location.hash);t&&(this.loadImg(t),this.loadImg(n.q(t.hash)))},this.loadImg=function(t){t&&t.vImg&&(t.style.backgroundImage='url("'+t.vImg+'")',t.vImg="")},this.prepare=function(t){for(var e=n.ins("div","",{className:this.opt.cGal}),i=n.qq(this.opt.qLinks,t),o=i.length,s=0,r=0;r<o;r++)if(!i[r].vDone){var a=n.seq();r||(s=a);var l=n.ins("a","",{id:this.opt.idPrefix+a,href:"#"+this.opt.idPrefix+(r==o-1?s:a+1)},e);l.vLink=n.attr(i[r],"href",""),l.vImg=n.attr(i[r],"href",""),l.setAttribute(n.opt.aCaption,(this.opt.num?r+1+"/"+o+(i[r].title?" - ":""):"")+(i[r].title||"")),i[r].href="#"+l.id,i[r].vDone=1}n.x(e),n.b(n.qq("a[id]",e),"click",n.gotoPrev),document.body.appendChild(e)},this.onKey=function(t){if(location.hash){var e=n.q(location.hash);if(e&&e.hash){var i=t.keyCode;if(37==i||38==i)this.prevImg(e);else if(39==i||40==i)location.hash=e.hash;else if(8==i){var o=e.vLink;o||(o=(o=window.getComputedStyle(e).backgroundImage).substring(4,o.length-1).replace(/^"|"$/g,"")),o&&(location.href=o)}}}}}}});