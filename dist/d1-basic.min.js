/*! d1-web v1.0.0 */!function(t){var i={};function n(e){if(i[e])return i[e].exports;var o=i[e]={i:e,l:!1,exports:{}};return t[e].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=t,n.c=i,n.d=function(t,i,e){n.o(t,i)||Object.defineProperty(t,i,{enumerable:!0,get:e})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,i){if(1&i&&(t=n(t)),8&i)return t;if(4&i&&"object"==typeof t&&t&&t.__esModule)return t;var e=Object.create(null);if(n.r(e),Object.defineProperty(e,"default",{enumerable:!0,value:t}),2&i&&"string"!=typeof t)for(var o in t)n.d(e,o,function(i){return t[i]}.bind(null,o));return e},n.n=function(t){var i=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(i,"a",i),i},n.o=function(t,i){return Object.prototype.hasOwnProperty.call(t,i)},n.p="",n(n.s=22)}({0:function(t,i){
/*! d1 app v1.0.0 */
t.exports=new function(){this.sequence=0,this.plugins={},this.handlers={},this.opt={debug:0,aCaption:"data-caption",cAct:"act",cHide:"hide",cToggle:"toggle",cOff:"off",cClose:"close",cJs:"js",hClose:"#cancel",hOk:"#ok",sCancel:"Cancel",sOk:"OK"},this.init=function(t){var i=this;t||(t=this.attr(document.body,"data-d1"))&&(t=JSON.parse(t)),this.setOpt(this,t),this.dbg(["opt",this.opt]),this.initPlugins(t),this.b([window],"hashchange",(function(t){return i.on("hash",t)})),this.b([document],"keydown",(function(t){return i.on("key",t)})),this.b([document],"click",(function(t){return i.on("click",t)})),location.hash&&this.on("hash"),document.body.classList.add(this.opt.cJs),this.fire("after")},this.on=function(t,i){this.fire(t,i),this.fire(t+"ed",i),this.fire("after",i)},this.setOpt=function(t,i){var n;if(i)for(n in i)"plug"!=n&&(t.opt[n]=i[n])},this.plug=function(t){this.plugins[t.name]=t},this.initPlugins=function(t){var i=this;this.opt.disable&&this.opt.disable.forEach((function(t){return delete i.plugins[t]})),this.dbg(["plugins",this.plugins]),Object.keys(this.plugins).forEach((function(n){t&&t.plug&&t.plug[n]&&i.setOpt(i.plugins[n],t.plug[n]),i.plugins[n].init()}))},this.listen=function(t,i){this.handlers[t]||(this.handlers[t]=[]),this.handlers[t].push(i)},this.fire=function(t,i){var n=this;this.dbg(["fire "+t,i]),this.handlers[t]&&this.handlers[t].forEach((function(t){return t.call(n,i)}))},this.dbg=function(t,i,n){this.opt.debug>=(i||1)&&console[n?"error":"log"](t)},this.seq=function(){return++this.sequence},this.closest=function(t,i){if(!t)return t;do{if(t.matches&&t.matches(i))return t}while(t=t.parentNode)},this.a=function(t){return t?Array.prototype.slice.call(t):t},this.q=function(t,i){try{return(i||document).querySelector(t)}catch(t){return null}},this.qq=function(t,i){try{var n=(i||document).querySelectorAll(t);return this.a(n)}catch(t){return[]}},this.b=function(t,i,n){var e=this;(t="string"==typeof t?this.qq(t):t.tagName?[t]:this.a(t))&&n&&t.forEach((function(t){return i?t.addEventListener(i,(function(t){return n(t)}),!1):n.call(e,t)}))},this.e=function(t,i){return this.b(t,"",i)},this.attr=function(t,i,n){return t&&t.hasAttribute(i)?t.getAttribute(i):void 0!==n?n:""},this.ins=function(t,i,n,e,o){var s=document.createElement(t||"span");if(i&&i.nodeType?s.appendChild(i):i&&(s.innerHTML=i),n)for(var r in n)r.match(/-/)?s.setAttribute(r.replace(/^-/,""),n[r]):s[r]=n[r];return e?o?e.parentNode.insertBefore(s,o<0?e:e.nextSibling):!1===o?e.insertBefore(s,e.firstChild):e.appendChild(s):s},this.clr=function(t){if(t)for(;t.firstChild;)t.removeChild(t.firstChild)},this.x=function(t,i,n){return this.ins("a",this.i("close","&#x2715;"),{href:this.opt.hClose,className:n||""},t,i)},this.i=function(t,i){return this.plugins.icons?this.plugins.icons.i(t,i):this.ins("span",i||t)},this.vis=function(t){return!t.classList.contains(this.opt.cOff)},this.throttle=function(t,i){var n,e=!1;return function o(){e?n=arguments:(t.apply(null,arguments),e=!0,setTimeout((function(){e=!1,n&&(o.apply(null,n),n=null)}),i))}},this.get=function(t,i){if(!t||"A"!=t.tagName)return null;var n,e={},o=t.search?t.search.replace(/^\?/,"").split("&"):[];for(n=0;n<o.length;n++){var s=o[n].split("=");e[s[0]]=decodeURIComponent(s[1]).replace(/\+/," ")}return i?e[i]:e},this.makeUrl=function(t,i){t.tagName||(t=this.ins("a","",{href:t}));var n=this.get(t);Object.keys(i).forEach((function(t){return n[t]=i[t]}));var e=Object.keys(n).map((function(t){return encodeURIComponent(t)+"="+encodeURIComponent(n[t])})).join("&");return t.protocol+"//"+t.host+t.pathname+(e?"?"+e:"")+t.hash}}},1:function(t,i,n){
/*! toggle - togglable interactive components */
var e=n(0);t.exports=new function(){"use strict";this.name="toggle",this.shown=null,this.opt={keepHash:1,mediaSuffixes:["-mobile","-desktop"],qTrg:"[id].target",qPop:".pop>div[id]",qNav:".nav ul",qDlg:".dlg",qTab:".tabs+div>div[id]",qTre:"ul.tree ul",qDrw:".drawer[id]",qAccRoot:"ul.tree.accordion",qAcc:"ul.tree.accordion ul",qGal:".gal>a[id]",qSubMem:".tabs.mem+div>div[id], ul.mem:not(.nav) ul",qDrawer:".drawer[id]:not(.shift)",cMem:"mem",cTarget:"target"},this.init=function(){var t=this;e.listen("esc",(function(i){return t.esc(i)})),e.listen("hash",(function(i){return t.onHash(i)})),e.listen("key",(function(i){return t.onKey(i)})),e.listen("click",(function(i){return t.onClick(i)})),e.listen("clicked",(function(i){return t.unpop(i.target)})),e.listen("after",(function(i){return t.after(i?i.target:null)}));var i=this.opt;this.opt.qTgl=this.opt.mediaSuffixes.concat([""]).map((function(t){return"[id]."+e.opt.cToggle+t})).join(", ");var n=[i.qTrg,i.qPop,i.qNav,i.qDlg,i.qTab,i.qTre,i.qDrw].join(", ");this.opt.qUnpop=[i.qPop,i.qNav,i.qDlg,i.qDrw].join(", "),this.opt.qUnpopOn=[i.qPop,i.qNav,i.qDlg,i.qDrw].map((function(t){return t+":not(."+e.opt.cOff+")"})).join(", "),e.e(this.opt.qNav+", "+this.opt.qTre,(function(i){return t.attachSubNav(i)})),e.e(n,(function(i){return t.initToggler(i)})),this.opt.mediaSuffixes.forEach((function(i){return e.e(t.opt.qTrg+i,(function(n){return t.initToggler(n,i)}))})),e.e(this.opt.qGal+":last-child",(function(t){return e.x(t,1)})),e.e(this.opt.qSubMem,(function(i){return i.classList.add(t.opt.cMem)})),e.e("[id]",(function(i){return t.restoreVisibility(i)})),e.e(this.opt.qTab+":not(."+e.opt.cOff+") ~ [id]:not(."+e.opt.cOff+")",(function(i){return t.tgl(i,0)})),e.e(this.opt.qTab+":first-child",(function(i){return e.a(i.parentNode.children).filter((function(t){return e.vis(t)})).length?null:t.tgl(e.q(e.q('a[href^="#"]',i.parentNode.previousElementSibling).hash),1)})),e.e("."+e.opt.cToggle+"[id]",(function(i){return t.hiliteLinks(i)}))},this.after=function(t){this.shown=null;var i=e.q(this.opt.qDlg+":not(."+e.opt.cOff+"), "+this.opt.qGal+'[id="'+location.hash.substr(1)+'"]'),n=window.innerWidth-document.documentElement.clientWidth,o=document.body.style;if(o.overflow=i?"hidden":"",i&&o.paddingRight||(o.paddingRight=i?n+"px":""),e.dbg(["after",t,i,o.paddingRight]),i){var s=e.q('input, a:not([href="'+e.opt.hClose+'"])',i);s&&s.focus()}},this.esc=function(t){t&&t.preventDefault(),this.unpop(null,!0),this.unhash(),this.after()},this.onHash=function(t){if(e.dbg(["hash",location.hash]),location.hash===e.opt.hClose)e.fire("esc",t);else if(location.hash){var i=e.q(location.hash);if(i){var n=i.matches(this.opt.qTgl),o=i.matches(this.opt.qGal);n&&(this.unpop(),this.toggle(i,!0),this.opt.keepHash||this.unhash()),n||o?this.after():this.unpop()}}},this.onKey=function(t){var i=t.keyCode;e.dbg(["key",i]),27==i&&e.fire("esc",t)},this.onClick=function(t){var i=t.target,n=e.closest(i,"a"),o=n&&n.matches('a[href^="#"]')?e.q(n.hash):null;if(n&&n.hash===e.opt.hClose)e.fire("esc",t);else{if(o&&o.matches(this.opt.qTgl))return t.preventDefault(),o=this.toggle(o),e.vis(o)&&this.opt.keepHash?this.addHistory(n.hash):this.unhash(),o;n||this.unhash()}t.clientX<=5&&t.clientY>5&&this.opt.qDrawer&&this.toggle(this.opt.qDrawer)},this.initToggler=function(t,i){t.classList.remove(this.opt.cTarget+(i||"")),t.classList.add(e.opt.cToggle+(i||"")),this.tgl(t,0)},this.attachSubNav=function(t){var i=e.a(t.parentNode.children).filter((function(t){return"A"==t.tagName})),n=i.filter((function(t){return!t.href}))[0]||i[0]||e.ins(""," ",{},t.parentNode,!1)&&e.ins("a",e.i("toggle","[+]"),{},t.parentNode,!1);n&&(t.id||(t.id="ul-"+e.seq()),n.href="#"+t.id)},this.toggle=function(t,i,n){var o=t?t.tagName?t:e.q(t):null;return o&&(o.matches(this.opt.qTab)&&void 0===i&&(i=!0),this.tgl(o,i),e.dbg(["toggle"+(n?" deep":""),i,o],n?2:1),e.vis(o)&&(this.fixPosition(o),n||(this.shown=o)),-1!=n&&(n||this.toggleDependent(o),this.hiliteLinks(o),this.storeVisibility(o))),o},this.tgl=function(t,i){t&&t.classList[i?"remove":void 0===i?"toggle":"add"](e.opt.cOff)},this.toggleDependent=function(t){var i=this;e.vis(t)&&(t.matches(this.opt.qDlg)?e.e(this.opt.qDlg,(function(n){return n==t?null:i.toggle(n,!1,1)})):t.matches(this.opt.qTab)?e.e(t.parentNode.children,(function(n){return n==t?null:i.toggle(n,!1,1)})):t.matches(this.opt.qAcc)&&e.e(e.qq(this.opt.qAcc,e.closest(t,this.opt.qAccRoot)),(function(n){return n.contains(t)?null:i.toggle(n,!1,1)})))},this.unpop=function(t,i){var n=this,o=[t];o.push(this.shown);var s=t?e.closest(t,"a"):null;s&&s.hash&&o.push(e.q(s.hash)),e.dbg(["unpop",o]);var r=e.qq(this.opt.qUnpop).filter((function(t){return!(o&&o.filter((function(i){return i&&i.tagName&&t.contains(i)})).length)}));i&&(r=r.filter((function(t){return!e.q(n.opt.qUnpopOn,t)}))),e.e(r,(function(t){return n.toggle(t,!1,1)}))},this.unhash=function(){location.hash&&(location.hash=e.opt.hClose),this.addHistory(location.pathname+location.search)},this.addHistory=function(t){history.pushState({},"",t)},this.storeVisibility=function(t){t.classList.contains(this.opt.cMem)&&localStorage.setItem("vis#"+t.id,e.vis(t)?1:-1)},this.restoreVisibility=function(t){if(t.classList.contains(this.opt.cMem)){var i=localStorage.getItem("vis#"+t.id);i&&this.toggle(t,i>0,-1)}},this.hiliteLinks=function(t){var i=e.vis(t)?"add":"remove";e.e('a[href="#'+t.id+'"]',(function(t){return t.classList[i](e.opt.cAct)}))},this.fixPosition=function(t){var i=t.matches(this.opt.qNav),n=i?window.getComputedStyle(t.parentNode.parentNode):null,e=!!n&&"flex"!=n.display;if(t.matches(this.opt.qPop)||i){var o=t.style,s=t.parentNode,r=s.nextElementSibling,a=(r=r&&"INPUT"==r.tagName?r:null)||t.parentNode;if(a){o.right="auto",o.left=e?"100%":0,o.top=e?0:"100%";var h=t.getBoundingClientRect(),l=a.getBoundingClientRect(),c=h.right>window.innerWidth,u=h.bottom>window.innerHeight,f=l.width>300;e?o.left=c||f?"3em":"100%":c&&h.width>l.width&&l.right>h.width?o.left=l.width-h.width+"px":o.left=0,e?o.top=c||f?"90%":0:u&&l.top>h.height?o.top=(r?-l.height:0)-h.height+"px":o.top="100%",r&&(s.style.verticalAlign="bottom")}}}}},2:function(t,i,n){
/*! dialog - replacement of standard Javascript dialogs: alert, confirm, prompt */
var e=n(0),o=n(1);t.exports=new function(){"use strict";this.name="dialog",this.dlg=null,this.opt={ccDlg:"dlg rad",customDialog:1,aConfirm:"_confirm",aPrompt:"data-prompt",cBtn:"btn pad",qAlert:"a.alert",qDialog:"a.dialog, input.dialog"},this.init=function(){var t=this;e.listen("click",(function(i){return t.onClick(i)}))},this.onClick=function(t){var i=e.closest(t.target,"a, input, button");if(i&&i.matches(this.opt.qAlert+","+this.opt.qDialog))return t.preventDefault(),this.dialog(i)},this.initDlg=function(t,i,n,s,r,a){var h=this;this.dlg||(this.dlg=e.ins("div","",{className:e.opt.cToggle+" "+e.opt.cOff+" "+this.opt.ccDlg},document.body));var l=this.dlg;e.clr(l);var c=e.ins("div","",{className:"row bg"},l);e.ins("h3",i||"",{className:"fit pad"},c),e.x(c,0,"pad hover col-0");var u=e.ins("div","",{className:"pad"},l);n&&e.ins("div",n,{},u);var f={value:!0};(r||""===r)&&(f=e.ins("input","",{value:r},u));var p=e.ins("p","",{className:"r"},u),d=this.opt.cBtn+" "+(" "==n.substr(0,1)||t&&t.className.match(/-[we]\b/)?"bg-e":"bg-y"),g=this.opt.cBtn+" bg-n",m=e.ins("a",e.attr(t,"data-ok",e.opt.sOk),{href:e.opt.hClose,className:a?g:d},p);s&&(e.ins("a",e.attr(t,"data-cancel",e.opt.sCancel),{href:e.opt.hClose,className:a?d:g},m,a?-1:1),e.ins(""," ",{},m,a?-1:1),m.href=e.opt.hOk,e.b([m],"click",(function(t){t.preventDefault(),s.call(h,f.value)})),f.tagName&&e.b([f],"keyup",(function(t){return 13==t.keyCode?s.call(h,f.value,t):null}))),o.toggle(this.dlg,!0)},this.dialog=function(t,i){var n=this;if(!t.form||t.form.checkValidity()){var o=e.attr(t,this.opt.aPrompt),s=e.attr(t,e.opt.aCaption,t.title||o||"!"),r=e.attr(t,"data-reverse"),a=e.attr(t,"data-src");!(a=a?e.q(a):null)&&t.form&&(a=t.form.elements[o]);var h=null,l=t.matches(this.opt.qAlert),c=o?a?a.value:e.get(t,o):null;return this.opt.customDialog?this.initDlg(t,"",s,l?null:function(e){return n.onAnswer(t,i,o,e)},c,r):(h=l?alert(s):o?prompt(s,c):confirm(s),this.onAnswer(t,i,o,h)),this.dlg}t.form.reportValidity()},this.onAnswer=function(t,i,n,s){if(i)i.call(this,t,s);else if(s||""===s){if(t.form){if(!0!==s){var r=t.form.elements[n]||e.ins("input","",{type:"hidden",name:n},t.form);r&&(r.value=s)}t.form.reportValidity()?(e.q('[type="hidden"][name="'+t.name+'"]',t.form)||e.ins("input","",{type:"hidden",name:t.name,value:t.value},t.form),t.form.elements[this.opt.aConfirm]||e.ins("input","",{type:"hidden",name:this.opt.aConfirm,value:1},t.form),t.form.submit()):o.unpop()}else if(t.href){var a,h="#"==e.attr(t,"href").substr(0,1),l="_blank"==t.target;if((h||l)&&o.unpop(),h)a=t.hash;else{var c={};c[this.opt.aConfirm]=1,!0!==s&&(c[n]=s),a=e.makeUrl(t,c)}"_blank"==t.target?window.open(a,t.target):location.href=a}}else;}}},22:function(t,i,n){var e=n(0);e.plug(n(1)),e.plug(n(2)),e.plug(n(3)),e.b([document],"DOMContentLoaded",(function(t){return e.init()})),t.exports=e,window&&(window.d1=e)},3:function(t,i,n){
/*! gallery - image gallery */
var e=n(0);t.exports=new function(){"use strict";this.name="gallery",this.opt={idPrefix:"pic-",num:!0,cGal:"gal",qGal:".gal>a[id]",qGallery:".gallery",qLinks:"a.pic"},this.init=function(){var t=this;e.listen("hash",(function(i){return t.onHash(i)})),e.listen("key",(function(i){return t.onKey(i)})),e.listen("click",(function(i){return t.onClick(i)})),e.e(this.opt.qGallery,(function(i){return t.prepare(i)}))},this.onClick=function(t){var i=t.target;i.matches(this.opt.qGal)&&t.clientX>0&&t.clientX<i.clientWidth/3&&this.prevImg(i)&&t.preventDefault()},this.prevImg=function(t){var i=t.previousElementSibling||e.qq("a[id]",t.parentNode).pop();return i.id&&(location.hash="#"+i.id),i.id},this.onHash=function(){var t=e.q(location.hash);t&&(this.loadImg(t),this.loadImg(e.q(t.hash)))},this.loadImg=function(t){t&&t.vImg&&(t.style.backgroundImage='url("'+t.vImg+'")',t.vImg="")},this.prepare=function(t){for(var i=e.ins("div","",{className:this.opt.cGal}),n=e.qq(this.opt.qLinks,t),o=n.length,s=0,r=0;r<o;r++)if(!n[r].vDone){var a=e.seq();r||(s=a);var h=e.ins("a","",{id:this.opt.idPrefix+a,href:"#"+this.opt.idPrefix+(r==o-1?s:a+1)},i);h.vLink=e.attr(n[r],"href"),h.vImg=e.attr(n[r],"href"),h.setAttribute(e.opt.aCaption,(this.opt.num?r+1+"/"+o+(n[r].title?" - ":""):"")+(n[r].title||"")),n[r].href="#"+h.id,n[r].vDone=1}e.x(i),e.b(e.qq("a[id]",i),"click",e.gotoPrev),document.body.appendChild(i)},this.onKey=function(t){if(location.hash){var i=e.q(location.hash);if(i&&i.hash){var n=t.keyCode;if(37==n||38==n)this.prevImg(i);else if(39==n||40==n)location.hash=i.hash;else if(8==n){var o=i.vLink;o||(o=(o=window.getComputedStyle(i).backgroundImage).substring(4,o.length-1).replace(/^"|"$/g,"")),o&&(location.href=o)}}}}}}});